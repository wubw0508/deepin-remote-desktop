## 遗留事项汇总

### TODO by 需求文档
1. 键盘事件功能完善；
2. 阻止自动待机与休眠；
3. 隐藏图形界面待机休眠相关设置项；
4. 屏蔽除登录界面以外的切换用户入口；
5. 可配置远程登录断开连接后注销；
6. 提供给前端的 DBus 接口与属性(system/session)；
7. 随机用户名、密码生成器；
8. 支持无用户名场景；
9. greeter 切换用户时，允许切换到已经登录的用户上；
10. 远程登录开关等操作鉴权；
11. 远程登录无网络密码登录，使用 TLS，拿用户名和密码做pam认证和会话开启，如果失败了，是否需要fallback 到 greeter 界面； TODO
12. 桌面共享支持一次性密钥，连接后自动更新；
13. 端口号可配置以及动态调整；
14. 本地远程登录冲突时，如果需要强制注销前会话，用什么方式来处理，lightdm 默认处理么；
15. 桌面共享时，关闭开关，二次弹窗确认；
16. 桌面共享本地键鼠优先级高于 XTest 输入；
17. 桌面共享无密码连接，使用弹窗确认；
18. 桌面共享时的通知；
19. 桌面共享中的仅屏幕共享模式 view only；
20. 桌面共享暂停时的处理；

### TODO by 项目设计
1. tls证书自动生成；
2. 配置文件改用drop-in的方式可覆盖可定制；
3. 桌面共享时应该使用本地的分辨率来捕获和传输；桌面共享分辨率切换时，应该发 redirect pdu 让客户端重连，当前会进程退出，需要先修复；
4. 远程登录时应该使用客户端要求的分辨率来生成虚拟屏幕；如果多次连接前后的分辨率不一样，需要切换分辨率(在备选范围内时)；
5. greeter优雅的启动handover方式；以及两个handover进程的生命周期优化；
6. 修复运行时警告；
7. 桌面共享时服务端多屏场景；
8. 远程登录中polkit在远程会话下的支持，可能需要批量进行覆盖，通过pkla和rules；
9. systemd 配置规范化；
10. 多会话和会话重入管理：
11. 桌面共享多会话场景，应该需要加一个配置，只允许一个共享还是可以多个共享；
12. greeter 第一帧显示是黑的或者花的，尝试修复；
13. 光标处理；
14. 音频和麦克风功能；

### TODO by 整体优化
1. 适配其他版本的remmina和其他rdp客户端；
2. 剪切板共享和文件共享；
3. 网络探测和流量、画质控制；
4. 性能优化；
   1. 捕获；(wayland pipewire)
   2. 编码；(H264 硬件加速)
   3. 差分计算；
   4. 虚拟屏幕方案；
5. 其他外设共享；